{"version":3,"file":"static/js/content.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","popup/App/App.types.ts","content/utils.ts","content/index.ts"],"sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export enum SectionType {\n    lecture,\n    tutorial,\n    lab\n}\n\nexport enum Term {\n    summerOne,\n    summerTwo,\n    summerFull,\n    winterOne,\n    winterTwo,\n    winterFull,\n}\n\nexport interface ISectionData {\n    code: string,\n    name: string,\n    type: SectionType,\n    location: string,\n    days: string[],\n    startTime: string,\n    endTime: string,\n    term: Term,\n    worklistNumber: number,\n    // details: string,\n    // title: string,\n}\n\nexport const baseSection:ISectionData = {\n    code: \"\",\n    name: \"\",\n    type: SectionType.lecture,\n    location: \"\",\n    days: [],\n    startTime: \"\",\n    endTime: \"\",\n    term: Term.winterOne,\n    worklistNumber: 0\n}","import { Term } from \"../popup/App/App.types\";\n\n// Interface representing a section of a course\nexport interface ISection {\n  code: string; // Course code\n  name: string; // Course name\n  location: string; // Location where the course takes place\n  days: string[]; // Days of the week the course is held on\n  startTime: string; // Start time of the course\n  endTime: string; // End time of the course\n  term: Term; // Term when the course is offered\n}\n\nexport enum ButtonActionType {\n  click,\n  hover\n}\n\nexport const baseSection: ISection = {\n  code: \"CPSC_V\",\n  name: \"sadsadsa\",\n  location: \"\",\n  days: [],\n  startTime: \"\",\n  endTime: \"\",\n  term: Term.winterOne,\n}\n\n// Function to convert time from 12-hour to 24-hour format\nexport function convertTo24(time: string): string {\n    const regex = /^(\\d{1,2}):(\\d{2})?(\\s*(a\\.m\\.|p\\.m\\.)?)$/i;\n    const match = time.match(regex);\n  \n    if (!match) {\n      throw new Error('Invalid time format');\n    }\n  \n    let [_, hours, minutes, period] = match;\n    let hoursNumber = parseInt(hours, 10);\n  \n    if (period.toLowerCase() === 'p.m.' && hoursNumber !== 12) {\n      hoursNumber += 12;\n    } else if (period.toLowerCase() === 'a.m.' && hoursNumber === 12) {\n      hoursNumber = 0;\n    }\n  \n    const formattedHours = hoursNumber.toString().padStart(2, '0');\n    const formattedMinutes = minutes.padStart(2, '0');\n  \n    return `${formattedHours}:${formattedMinutes}`;\n  }\n  \nexport function extractSection(element: Element) {\n  const courseLabels = element.parentElement?.querySelectorAll('.gwt-Label.WKIP.WDHP');\n  // Checking if course labels exist and there are at least two of them\n  if (!courseLabels || courseLabels.length < 2) {\n    alert('Title or section details not found');\n    return;\n  }\n\n  // Extracting title and section details from the labels\n  const titleElement = courseLabels[0];\n  const sectionDetailsElement = courseLabels[1];\n  const title = titleElement.textContent;\n  const sectionDetails = sectionDetailsElement.textContent;\n\n  // Checking if title or section details are missing\n  if (!title || !sectionDetails) {\n    alert('Title or section details not found');\n    return;\n  }\n\n  // Splitting title and section details into parts\n  const titleParts = title.split(' - ');\n  const detailsParts = sectionDetails.split(' | ');\n\n  // Checking if title and section details have the expected format\n  if (titleParts.length !== 2 || detailsParts.length !== 4) {\n    alert(JSON.stringify(titleParts));\n    alert(JSON.stringify(detailsParts));\n    alert('Invalid title or section details format');\n    return;\n  }\n\n  // Extracting individual parts from title and section details\n  const [code, name] = titleParts;\n  const [location, daysString, timeRange, dateRange] = detailsParts;\n  const days = daysString.split(' ');\n  const [startTime, endTime] = timeRange.split(' - ');\n\n  // Determining the term based on the date range\n  const term = dateRange === '2024-09-03 - 2024-12-05' ? Term.winterOne : Term.winterTwo;\n\n  // Creating a new section object\n  const newSection: ISection = {\n    code,\n    name,\n    location,\n    days,\n    startTime: convertTo24(startTime),\n    endTime: convertTo24(endTime),\n    term,\n  };\n\n  return newSection\n}\n","import { extractSection } from './utils';\n\n// Function to add a button to a given HTML element\nfunction addButtonToElement(element: Element): void {\n  // Creating a button element\n  const button: HTMLButtonElement = document.createElement('button');\n  // Setting the button text content to '+'\n  button.textContent = '+';\n  // Adding an event listener for when the button is clicked\n  button.addEventListener('click', () => {\n    handleButtonClick(element);\n  });\n\n  // Styling the button\n  button.style.padding = '10px 20px';\n  button.style.fontSize = '16px';\n  button.style.color = '#333';\n  button.style.backgroundColor = '#EEF1F2';\n  button.style.boxShadow = '0 0 0 1px #CED3D9';\n  button.style.cursor = 'pointer';\n  button.style.marginRight = '10px';\n  button.style.borderRadius = '5px';\n  button.style.transition = 'all 120ms ease-in';\n  button.style.border = 'none';\n  button.style.outline = 'none';\n\n  // Adding event listeners for mouse enter and leave to change button style\n  button.addEventListener('mouseenter', () => {\n    button.style.backgroundColor = '#CED3D9';\n    button.style.boxShadow = '0 0 0 1px #9DA9AF';\n  });\n\n  button.addEventListener('mouseleave', () => {\n    button.style.backgroundColor = '#EEF1F2';\n    button.style.boxShadow = '0 0 0 1px #CED3D9';\n  });\n\n  // Inserting the button before the given element\n  element.parentNode?.insertBefore(button, element);\n}\n\n// Function to handle button click event\nfunction handleButtonClick(element: Element): void {\n  const selectedSection = extractSection(element)\n  if (!selectedSection) return;\n  // Getting existing sections from Chrome storage and adding the new section\n  chrome.storage.sync.set({ newSection: selectedSection });\n}\n\n// Function to observe DOM changes and add buttons to matching elements\nfunction observeDOMAndAddButtons(): void {\n  // Configuration for the mutation observer\n  const config: MutationObserverInit = {\n    childList: true,\n    subtree: true,\n    attributes: false,\n  };\n\n  // Callback function for the mutation observer\n  const callback: MutationCallback = (mutationsList, observer) => {\n    mutationsList.forEach((mutation) => {\n      if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {\n        mutation.addedNodes.forEach((node) => {\n          if (node instanceof Element) {\n            // Finding matching elements within the added node\n            const matchingElements = node.querySelectorAll('.WD5F.WB5F');\n            // Adding buttons to matching elements\n            if (matchingElements.length > 0) {\n              matchingElements.forEach((matchingElement) => {\n                addButtonToElement(matchingElement);\n              });\n            }\n          }\n        });\n      }\n    });\n  };\n\n  // Creating a new mutation observer instance\n  const observer: MutationObserver = new MutationObserver(callback);\n  // Observing changes to the document body with the specified configuration\n  observer.observe(document.body, config);\n}\n\n// Function to set up the observer for DOM changes\nfunction setupObserver(): void {\n  // If the document is still loading, add an event listener to observe DOM changes\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', observeDOMAndAddButtons);\n  } else {\n    // Otherwise, directly observe DOM changes\n    observeDOMAndAddButtons();\n  }\n}\n\n// Setting up the observer when the script is executed\nsetupObserver();"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","call","next","Object","done","push","value","err","o","minLen","n","prototype","toString","slice","constructor","name","from","test","TypeError","SectionType","Term","lecture","winterOne","convertTo24","time","match","Error","_match","hours","minutes","period","hoursNumber","parseInt","toLowerCase","formattedHours","padStart","formattedMinutes","concat","addButtonToElement","element","_element$parentNode","button","document","createElement","textContent","addEventListener","selectedSection","_element$parentElemen","courseLabels","parentElement","querySelectorAll","alert","titleElement","sectionDetailsElement","title","sectionDetails","titleParts","split","detailsParts","JSON","stringify","_titleParts","code","_detailsParts","location","daysString","timeRange","dateRange","days","_timeRange$split2","startTime","endTime","term","winterTwo","extractSection","chrome","storage","sync","set","newSection","handleButtonClick","style","padding","fontSize","color","backgroundColor","boxShadow","cursor","marginRight","borderRadius","transition","border","outline","parentNode","insertBefore","observeDOMAndAddButtons","MutationObserver","mutationsList","observer","forEach","mutation","type","addedNodes","node","Element","matchingElements","matchingElement","observe","body","childList","subtree","attributes","readyState"],"sourceRoot":""}